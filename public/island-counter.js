import{a as E,b as dt,c as lt,d as z,e as f,f as G,g as yt,h as m}from"./chunk-MLL2PHCY.js";function l(i,t,n,o,e){var r,_,a={};for(_ in t)_=="ref"?r=t[_]:a[_]=t[_];var h={type:i,props:a,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--mt,__source:e,__self:o};if(typeof i=="function"&&(r=i.defaultProps))for(_ in r)a[_]===void 0&&(a[_]=r[_]);return f.vnode&&f.vnode(h),h}var mt,q=E(()=>{m();m();mt=0});function tt(i,t){f.__h&&f.__h(c,i,P||t),P=0;var n=c.__H||(c.__H={__:[],__h:[]});return i>=n.__.length&&n.__.push({__V:N}),n.__[i]}function it(i,t){var n=tt(D++,3);!f.__s&&nt(n.__H,t)&&(n.__=i,n.i=t,c.__H.__h.push(n))}function O(i){return P=5,b(function(){return{current:i}},[])}function b(i,t){var n=tt(D++,7);return nt(n.__H,t)?(n.__V=i(),n.i=t,n.__h=i,n.__V):n.__}function bt(){for(var i;i=Z.shift();)if(i.__P&&i.__H)try{i.__H.__h.forEach(C),i.__H.__h.forEach(j),i.__H.__h=[]}catch(t){i.__H.__h=[],f.__e(t,i.__v)}}function gt(i){var t,n=function(){clearTimeout(o),Y&&cancelAnimationFrame(t),setTimeout(i)},o=setTimeout(n,100);Y&&(t=requestAnimationFrame(n))}function C(i){var t=c,n=i.__c;typeof n=="function"&&(i.__c=void 0,n()),c=t}function j(i){var t=c;i.__c=i.__(),c=t}function nt(i,t){return!i||i.length!==t.length||t.some(function(n,o){return n!==i[o]})}var D,c,F,L,P,Z,N,J,K,Q,W,X,Y,ot=E(()=>{m();P=0,Z=[],N=[],J=f.__b,K=f.__r,Q=f.diffed,W=f.__c,X=f.unmount;f.__b=function(i){typeof i.type!="function"||i.__m||i.__===null?i.__m||(i.__m=i.__&&i.__.__m?i.__.__m:""):i.__m=(i.__&&i.__.__m?i.__.__m:"")+(i.__&&i.__.__k?i.__.__k.indexOf(i):0),c=null,J&&J(i)},f.__r=function(i){K&&K(i),D=0;var t=(c=i.__c).__H;t&&(F===c?(t.__h=[],c.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=N,n.__N=n.i=void 0})):(t.__h.forEach(C),t.__h.forEach(j),t.__h=[])),F=c},f.diffed=function(i){Q&&Q(i);var t=i.__c;t&&t.__H&&(t.__H.__h.length&&(Z.push(t)!==1&&L===f.requestAnimationFrame||((L=f.requestAnimationFrame)||gt)(bt)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==N&&(n.__=n.__V),n.i=void 0,n.__V=N})),F=c=null},f.__c=function(i,t){t.some(function(n){try{n.__h.forEach(C),n.__h=n.__h.filter(function(o){return!o.__||j(o)})}catch(o){t.some(function(e){e.__h&&(e.__h=[])}),t=[],f.__e(o,n.__v)}}),W&&W(i,t)},f.unmount=function(i){X&&X(i);var t,n=i.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{C(o)}catch(e){t=e}}),n.__H=void 0,t&&f.__e(t,n.__v))};Y=typeof requestAnimationFrame=="function"});function U(){throw new Error("Cycle detected")}function V(){if(v>1)v--;else{for(var i,t=!1;g!==void 0;){var n=g;for(g=void 0,T++;n!==void 0;){var o=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&et(n))try{n.c()}catch(e){t||(i=e,t=!0)}n=o}}if(T=0,v--,t)throw i}}function rt(i){if(v>0)return i();v++;try{return i()}finally{V()}}function _t(i){if(u!==void 0){var t=i.n;if(t===void 0||t.t!==u)return u.s=t={i:0,S:i,p:void 0,n:u.s,t:u,e:void 0,x:void 0,r:t},i.n=t,32&u.f&&i.S(t),t;if(t.i===-1)return t.i=0,t.p!==void 0&&(t.p.n=t.n,t.n!==void 0&&(t.n.p=t.p),t.p=void 0,t.n=u.s,u.s.p=t,u.s=t),t}}function s(i){this.v=i,this.i=0,this.n=void 0,this.t=void 0}function S(i){return new s(i)}function et(i){for(var t=i.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function ft(i){for(var t=i.s;t!==void 0;t=t.n){var n=t.S.n;n!==void 0&&(t.r=n),t.S.n=t,t.i=-1}}function ut(i){for(var t=i.s,n=void 0;t!==void 0;){var o=t.n;t.i===-1?(t.S.U(t),t.n=void 0):(n!==void 0&&(n.p=t),t.p=void 0,t.n=n,n=t),t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=o}i.s=n}function p(i){s.call(this,void 0),this.x=i,this.s=void 0,this.g=k-1,this.f=4}function x(i){return new p(i)}function st(i){var t=i.u;if(i.u=void 0,typeof t=="function"){v++;var n=u;u=void 0;try{t()}catch(o){throw i.f&=-2,i.f|=8,R(i),o}finally{u=n,V()}}}function R(i){for(var t=i.s;t!==void 0;t=t.n)t.S.U(t);i.x=void 0,i.s=void 0,st(i)}function St(i){if(u!==this)throw new Error("Out-of-order effect");ut(this),u=i,this.f&=-2,8&this.f&&R(this),V()}function H(i){this.x=i,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function d(i){var t=new H(i);return t.c(),t.d.bind(t)}var u,g,v,T,k,B=E(()=>{u=void 0,g=void 0,v=0,T=0,k=0;s.prototype.h=function(){return!0};s.prototype.S=function(i){this.t!==i&&i.e===void 0&&(i.x=this.t,this.t!==void 0&&(this.t.e=i),this.t=i)};s.prototype.U=function(i){var t=i.e,n=i.x;t!==void 0&&(t.x=n,i.e=void 0),n!==void 0&&(n.e=t,i.x=void 0),i===this.t&&(this.t=n)};s.prototype.subscribe=function(i){var t=this;return d(function(){var n=t.value,o=32&this.f;this.f&=-33;try{i(n)}finally{this.f|=o}})};s.prototype.valueOf=function(){return this.value};s.prototype.toString=function(){return this.value+""};s.prototype.peek=function(){return this.v};Object.defineProperty(s.prototype,"value",{get:function(){var i=_t(this);return i!==void 0&&(i.i=this.i),this.v},set:function(i){if(i!==this.v){T>100&&U(),this.v=i,this.i++,k++,v++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{V()}}}});(p.prototype=new s).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===k))return!0;if(this.g=k,this.f|=1,this.i>0&&!et(this))return this.f&=-2,!0;var i=u;try{ft(this),u=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return u=i,ut(this),this.f&=-2,!0};p.prototype.S=function(i){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}s.prototype.S.call(this,i)};p.prototype.U=function(i){if(s.prototype.U.call(this,i),this.t===void 0){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};p.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var i=this.t;i!==void 0;i=i.x)i.t.N()}};p.prototype.peek=function(){if(this.h()||U(),16&this.f)throw this.v;return this.v};Object.defineProperty(p.prototype,"value",{get:function(){1&this.f&&U();var i=_t(this);if(this.h(),i!==void 0&&(i.i=this.i),16&this.f)throw this.v;return this.v}});H.prototype.c=function(){var i=this.S();try{!(8&this.f)&&this.x!==void 0&&(this.u=this.x())}finally{i()}};H.prototype.S=function(){1&this.f&&U(),this.f|=1,this.f&=-9,st(this),ft(this),v++;var i=u;return u=this,St.bind(this,i)};H.prototype.N=function(){2&this.f||(this.f|=2,this.o=g,g=this)};H.prototype.d=function(){this.f|=8,1&this.f||R(this)}});var vt={};lt(vt,{Signal:()=>s,batch:()=>rt,computed:()=>x,effect:()=>d,signal:()=>S,useComputed:()=>Ht,useSignal:()=>at,useSignalEffect:()=>wt});function y(i,t){f[i]=t.bind(null,f[i]||function(){})}function $(i){I&&I(),I=i&&i.S()}function ct(i){var t=this,n=i.data,o=at(n);o.value=n;var e=b(function(){for(var r=t.__v;r=r.__;)if(r.__c){r.__c.__$f|=4;break}return t.__$u.c=function(){t.base.data=e.peek()},x(function(){var _=o.value.value;return _===0?0:_===!0?"":_||""})},[]);return e.value}function xt(i,t,n,o){var e=t in i&&i.ownerSVGElement===void 0,r=S(n);return{o:function(_,a){r.value=_,o=a},d:d(function(){var _=r.value.value;o[t]!==_&&(o[t]=_,e?i[t]=_:_?i.setAttribute(t,_):i.removeAttribute(t))})}}function at(i){return b(function(){return S(i)},[])}function Ht(i){var t=O(i);return t.current=i,A.__$f|=4,b(function(){return x(function(){return t.current()})},[])}function wt(i){var t=O(i);t.current=i,it(function(){return d(function(){t.current()})},[])}var A,I,ht=E(()=>{m();ot();B();B();ct.displayName="_st";Object.defineProperties(s.prototype,{constructor:{configurable:!0},type:{configurable:!0,value:ct},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});y("__b",function(i,t){if(typeof t.type=="string"){var n,o=t.props;for(var e in o)if(e!=="children"){var r=o[e];r instanceof s&&(n||(t.__np=n={}),n[e]=r,o[e]=r.peek())}}i(t)});y("__r",function(i,t){$();var n,o=t.__c;o&&(o.__$f&=-2,(n=o.__$u)===void 0&&(o.__$u=n=function(e){var r;return d(function(){r=this}),r.c=function(){o.__$f|=1,o.setState({})},r}())),A=o,$(n),i(t)});y("__e",function(i,t,n,o){$(),A=void 0,i(t,n,o)});y("diffed",function(i,t){$(),A=void 0;var n;if(typeof t.type=="string"&&(n=t.__e)){var o=t.__np,e=t.props;if(o){var r=n.U;if(r)for(var _ in r){var a=r[_];a!==void 0&&!(_ in o)&&(a.d(),r[_]=void 0)}else n.U=r={};for(var h in o){var w=r[h],M=o[h];w===void 0?(w=xt(n,h,M,e),r[h]=w):w.o(M,e)}}}i(t)});y("unmount",function(i,t){if(typeof t.type=="string"){var n=t.__e;if(n){var o=n.U;if(o){n.U=void 0;for(var e in o){var r=o[e];r&&r.d()}}}}else{var _=t.__c;if(_){var a=_.__$u;a&&(_.__$u=void 0,a.d())}}i(t)});y("__h",function(i,t,n,o){o<3&&(t.__$f|=2),i(t,n,o)});G.prototype.shouldComponentUpdate=function(i,t){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var o in t)return!0;for(var e in i)if(e!=="__source"&&i[e]!==this.props[e])return!0;for(var r in this.props)if(!(r in i))return!0;return!1}});var Ct=dt((Rt,pt)=>{q();var{h:Tt}=(m(),z(yt)),{useSignal:Et}=(ht(),z(vt));function Nt({start:i=0}){let t=Et(i),n=()=>t.value+=1,o=()=>t.value-=1;return l("div",{children:[l("output",{children:["Current value: ",t.value]}),l("button",{onClick:o,children:"-1"}),l("button",{onClick:n,children:"+1"})]})}pt.exports=Nt});export default Ct();
